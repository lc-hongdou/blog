---
title: FOC
---
## 绪论

**▌什么是FOC控制？**

FOC（Field-Oriented Control），即磁场定向控制，也称矢量变频，是目前高效控制无刷直流电机（BLDC）和永磁同步电机（PMSM）的最佳选择。FOC 能精确地控制磁场大小与方向，使得电机转矩平稳、噪声小、效率高，并且具有高速的动态响应，优越的高低速控制性能。目前已在很多应用上逐步替代传统的控制方式，在运动控制行业中备受瞩目。利用FOC控制的产品在我们生活中处处可见，家电消费的变频空调、高性能吹风机、洗地机，工业领域的新能源汽车电机、生产线上的伺服电机[1]，又或是热门的机器人行业[2]，都离不开FOC的身影。 

![图片](https://i0.hdslb.com/bfs/article/db010619e98e39b5893894306e04e9c642c0353e.png@942w_393h_progressive.webp)

 图1.FOC机械臂应用[1]图2.FOC机械人应用[2]

**▌FOC控制的核心思想**

笔者认为，想要通俗地理解FOC（磁场定向控制），需要先从名称入手，即磁场、定向、控制这三部分。

- **磁场**：通过SVPWM等手段合成矢量磁场。
- **定向**：通过一定手段准确测量到转子的位置。
- **控制**：根据期望的定子磁场矢量，对磁场的大小与方向进行准确控制。

**▌坐标变换**

通过逆变电路，我们可以输出调制三相电压，对电机进行控制。然而对于非线性信号进行准确控制，需要非常复杂的高阶控制器，驱动动辄上万转速的电机，控制的实时性无法达到。所以，为简化自然坐标系下的三相PMSM的数学模型，实现控制上的解耦，需建立相应的坐标变换包括**静止坐标α-β** 变换和**同步旋转坐标d-q**变换，即**Clark**变换与**Park**变换。其具体过程就是将三相坐标系交流转为两相坐标系交流，然后将两相坐标系交流转为电机自身旋转坐标系下的直流量。从而简化控制过程。

**▌自然坐标系**

如下图所示，将一个旋转的向量映射到三相自然坐标系[3]上，波形如右图所示。

![图片](https://i0.hdslb.com/bfs/article/3e02d54e2068263974f88ce726d65ffa182f63bd.gif@942w_486h_progressive.webp)

图3.三相电流表示

▌αβ 坐标系
我们可以用两相正交坐标系[4]下的交流量来表示三相坐标系下的交流量，保证幅值不变。这种由三相自然坐标系到两相静止坐标系的变换为Clark变换。



## 坐标变换

### Create a new post

``` bash
$ hexo new "My New Post"
```

### Run server

``` bash
$ hexo server
```

### Generate static files

``` bash
$ hexo generate
```

### Deploy to remote sites

``` bash
$ hexo deploy
```
